<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brother Fashion House</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #2563eb; --dark: #1f2937; --light: #f3f4f6; --danger: #ef4444; --success: #10b981; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: sans-serif; }
        body { background: var(--light); padding-bottom: 70px; }
        
        /* Header & Marquee */
        header { background: linear-gradient(135deg, var(--dark), var(--primary)); color: white; padding: 20px 15px; text-align: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .brand-name { font-size: 2rem; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .marquee-container { background: #f59e0b; color: black; padding: 8px 0; overflow: hidden; white-space: nowrap; font-weight: bold; }
        .marquee-text { display: inline-block; padding-left: 100%; animation: scroll 20s linear infinite; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }
        
        /* Page Layout */
        .page { display: none; padding: 10px; animation: fadeIn 0.3s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* Company Intro */
        .company-intro { background: white; padding: 15px; border-radius: 10px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center; }
        .company-intro h2 { color: var(--primary); font-size: 1.2rem; margin-bottom: 10px; }
        .company-intro p { color: #555; font-size: 0.9rem; line-height: 1.4; }

        /* Product Grid */
        .product-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .product-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); position: relative; }
        .product-img { width: 100%; height: 150px; object-fit: cover; background: #eee; }
        .product-info { padding: 10px; }
        .product-title { font-size: 0.9rem; font-weight: bold; margin-bottom: 5px; height: 35px; overflow: hidden; }
        .price-box { display: flex; gap: 5px; align-items: center; font-size: 0.9rem; margin-bottom: 8px; }
        .new-price { color: var(--primary); font-weight: bold; }
        .old-price { color: #999; text-decoration: line-through; font-size: 0.8rem; }
        .discount-badge { position: absolute; top: 5px; left: 5px; background: var(--danger); color: white; padding: 2px 6px; border-radius: 10px; font-size: 0.7rem; }
        .order-btn { width: 100%; padding: 8px; background: var(--success); color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; }
        .sold-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.7); display: flex; justify-content: center; align-items: center; z-index: 5; }
        .sold-badge { background: var(--danger); color: white; padding: 5px 10px; transform: rotate(-15deg); font-weight: bold; border: 2px solid white; }
        
        /* Profile & Bottom Nav */
        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 10px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); z-index: 1000; }
        .nav-item { text-align: center; color: var(--dark); text-decoration: none; font-size: 0.8rem; }
        .nav-item.active { color: var(--primary); }
        .nav-item i { font-size: 1.2rem; display: block; margin-bottom: 2px; }
        
        .profile-card { background: white; padding: 20px; text-align: center; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .btn-primary { background: var(--primary); color:white; padding:10px; border-radius:5px; text-decoration:none; display:inline-block; }
        /* ‡¶≤‡ßã‡¶ó‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø CSS */
        .profile-logo { width: 100%; margin-top: 20px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); border: 2px solid #eee; }

        /* Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 20px; width: 90%; max-width: 400px; border-radius: 10px; }
        .form-control { width: 100%; padding: 8px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; }
        
        /* Secret Trigger Style */
        #secretName { cursor: pointer; user-select: none; transition: color 0.2s; font-weight: bold; text-decoration: underline; text-decoration-style: dotted; }
        #secretName:active { color: var(--danger); }
    </style>
</head>
<body>
    <header>
        <div class="brand-name">‡¶¨‡ßç‡¶∞‡¶æ‡¶¶‡¶æ‡¶∞ ‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶® ‡¶π‡¶æ‡¶â‡¶∏</div>
        <div style="font-size: 1rem; opacity: 0.9; margin-top: 5px;">Brothers House</div>
    </header>

    <div class="marquee-container">
        <div class="marquee-text" id="promoText">‡¶¨‡ßç‡¶∞‡¶æ‡¶¶‡¶æ‡¶∞ ‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶® ‡¶π‡¶æ‡¶â‡¶∏ - ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï‡¶§‡¶æ‡¶∞ ‡¶õ‡ßã‡¶Å‡ßü‡¶æ, ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡ßá‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß‡¶®‡•§ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶™‡ßã‡¶∂‡¶æ‡¶ï, ‡¶∏‡¶æ‡¶∂‡ßç‡¶∞‡ßü‡ßÄ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá‡•§</div>
    </div>

    <div id="homePage" class="page active">
        <div class="company-intro">
            <h2>‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∂‡ßç‡¶∞‡ßÅ‡¶§‡¶ø</h2>
            <p>‡¶¨‡ßç‡¶∞‡¶æ‡¶¶‡¶æ‡¶∞ ‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶® ‡¶π‡¶æ‡¶â‡¶∏ ‡¶∏‡¶∞‡ßç‡¶¨‡¶¶‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶ø‡ßü‡ßá ‡¶Ü‡¶∏‡ßá ‡¶∞‡ßÅ‡¶ö‡¶ø‡¶∂‡ßÄ‡¶≤ ‡¶ì ‡¶Ü‡¶∞‡¶æ‡¶Æ‡¶¶‡¶æ‡ßü‡¶ï ‡¶™‡ßã‡¶∂‡¶æ‡¶ï‡•§ ‡¶ó‡ßÅ‡¶£‡¶ó‡¶§ ‡¶Æ‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶∏‡¶®‡ßç‡¶§‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø‡•§ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶•‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§</p>
        </div>

        <div class="product-grid" id="productContainer">
            <p style="text-align:center; width:200%; padding:20px;">‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
        </div>
    </div>

    <div id="profilePage" class="page">
        <div class="profile-card">
            <h2 style="color: var(--primary); font-size: 1.6rem; margin-bottom: 5px;">‡¶¨‡ßç‡¶∞‡¶æ‡¶¶‡¶æ‡¶∞‡ßç‡¶∏ ‡¶π‡¶æ‡¶â‡¶∏</h2>
            <p style="color:#555; font-size: 1.1rem; margin-bottom: 10px;">‡¶™‡ßç‡¶∞‡ßã‡¶É ‡¶Æ‡ßã‡¶É ‡¶ú‡¶∏‡¶ø‡¶Æ ‡¶â‡¶¶‡ßç‡¶¶‡¶ø‡¶® ‡¶Æ‡ßÉ‡¶ß‡¶æ</p>
            
            <div style="background: #eef2ff; padding: 10px; border-radius: 8px; margin: 15px 0;">
                <p style="font-size: 0.9rem; color:#1e40af;">
                    ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü ‡¶™‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡¶æ‡¶∞: <br>
                    <span id="secretName" style="font-size: 1.1rem;">MRIDHA MD MERAJ</span>
                </p>
            </div>

            <p style="margin:10px 0; font-size: 1.1rem;"><i class="fas fa-phone-alt" style="color:var(--success);"></i> 01304388032</p>
            <p style="margin-bottom:15px; color:#666;">‡¶Æ‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶® ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü, ‡¶∞‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶¶‡¶æ ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞, ‡¶∂‡¶∞‡¶£‡¶ñ‡ßã‡¶≤‡¶æ, ‡¶¨‡¶æ‡¶ó‡ßá‡¶∞‡¶π‡¶æ‡¶ü‡•§</p>
            
            <a href="https://www.google.com/maps?q=22.3706400,89.8577389" target="_blank" class="btn-primary">
                <i class="fas fa-map-marker-alt"></i> ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
            </a>

            <img src="https://i.ibb.co/4RT8vSCc/1768049168007.png" class="profile-logo" alt="Brother Fashion House Logo">
        </div>
    </div>

    <div id="orderModal" class="modal">
        <div class="modal-content">
            <h3>‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ</h3>
            <p id="modalPName" style="color:var(--primary); font-weight:bold; margin-bottom:10px;"></p>
            <input type="text" id="cName" class="form-control" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ">
            <input type="tel" id="cMobile" class="form-control" placeholder="‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞">
            <input type="text" id="cAddress" class="form-control" placeholder="‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ">
            <input type="text" id="cSize" class="form-control" placeholder="‡¶∏‡¶æ‡¶á‡¶ú (L, XL, M...)">
            <select id="cPayment" class="form-control">
                <option>Cash On Delivery</option>
                <option>Bkash Payment</option>
            </select>
            <button onclick="confirmOrder()" class="order-btn" style="background:#25D366;">WhatsApp Order <i class="fab fa-whatsapp"></i></button>
            <button onclick="closeModal()" class="order-btn" style="background:#ddd; color:black; margin-top:5px;">‡¶¨‡¶æ‡¶§‡¶ø‡¶≤</button>
        </div>
    </div>

    <nav class="bottom-nav">
        <a href="#" class="nav-item active" onclick="switchPage('homePage', this)"><i class="fas fa-home"></i> ‡¶π‡ßã‡¶Æ</a>
        <a href="#" class="nav-item" onclick="switchPage('profilePage', this)"><i class="fas fa-user"></i> ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</a>
    </nav>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue, update, increment } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD56PSyp7nVXKXphbSwgAJL6kUb33yb2iQ",
            authDomain: "brother-fashion-house.firebaseapp.com",
            databaseURL: "https://brother-fashion-house-default-rtdb.firebaseio.com",
            projectId: "brother-fashion-house",
            storageBucket: "brother-fashion-house.appspot.com",
            messagingSenderId: "30910144708",
            appId: "1:30910144708:web:7352698277af2c8aae6991",
            measurementId: "G-TE8CRXPBL4"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // ‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
        const productRef = ref(db, 'products');
        onValue(productRef, (snapshot) => {
            const data = snapshot.val();
            const container = document.getElementById('productContainer');
            container.innerHTML = '';
            
            if(data) {
                const productList = Object.entries(data).map(([key, val]) => ({id: key, ...val})).reverse();
                productList.forEach(p => {
                    let discount = Math.round(((p.oldPrice - p.price) / p.oldPrice) * 100);
                    let soldBadge = p.sold ? `<div class="sold-overlay"><div class="sold-badge">SOLD OUT</div></div>` : '';
                    let btn = p.sold ? `<button class="order-btn" style="background:#ccc" disabled>‡¶∏‡ßç‡¶ü‡¶ï‡ßá ‡¶®‡ßá‡¶á</button>` : 
                                       `<button onclick="window.openOrder('${p.id}', '${p.name}', '${p.price}')" class="order-btn">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</button>`;
                    
                    container.innerHTML += `
                        <div class="product-card">
                            ${soldBadge}
                            <div class="discount-badge">-${discount}%</div>
                            <img src="${p.img}" class="product-img" alt="${p.name}">
                            <div class="product-info">
                                <div class="product-title">${p.name}</div>
                                <div class="price-box"><span class="new-price">‡ß≥${p.price}</span> <span class="old-price">‡ß≥${p.oldPrice}</span></div>
                                ${btn}
                            </div>
                        </div>`;
                });
            } else {
                container.innerHTML = '<p style="text-align:center; width:200%;">‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶®‡ßá‡¶á</p>';
            }
        });

        // ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü‡¶∞ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü
        if (!sessionStorage.getItem('visited')) {
            update(ref(db, 'stats'), { visitors: increment(1) });
            sessionStorage.setItem('visited', 'true');
        }

        window.selectedProduct = {};
        window.openOrder = (id, name, price) => {
            window.selectedProduct = {id, name, price};
            document.getElementById('modalPName').innerText = name + " - ‡ß≥" + price;
            document.getElementById('orderModal').style.display = 'flex';
        }
        
        window.confirmOrder = () => {
            let name = document.getElementById('cName').value;
            let mobile = document.getElementById('cMobile').value;
            let address = document.getElementById('cAddress').value;
            let size = document.getElementById('cSize').value;
            let pay = document.getElementById('cPayment').value;
            
            if (!name || !mobile || !address) { alert("‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶®!"); return; }
            update(ref(db, 'stats'), { sales: increment(1) });

            let msg = `*‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞!*%0A----------------%0Aüì¶ *‡¶™‡¶£‡ßç‡¶Ø:* ${window.selectedProduct.name}%0Aüí∞ *‡¶¶‡¶æ‡¶Æ:* ‡ß≥${window.selectedProduct.price}%0Aüìè *‡¶∏‡¶æ‡¶á‡¶ú:* ${size}%0Aüí≥ *‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü:* ${pay}%0A----------------%0Aüë§ *‡¶®‡¶æ‡¶Æ:* ${name}%0Aüìû *‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤:* ${mobile}%0Aüè† *‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ:* ${address}`;
            window.location.href = `https://wa.me/8801304388032?text=${msg}`;
            document.getElementById('orderModal').style.display = 'none';
        }
    </script>

    <script>
        // ‡¶∏‡¶ø‡¶ï‡ßç‡¶∞‡ßá‡¶ü ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶ü‡ßç‡¶∞‡¶ø‡¶ó‡¶æ‡¶∞
        let tapCount = 0;
        let tapTimer;
        
        document.getElementById('secretName').addEventListener('click', () => {
            clearTimeout(tapTimer);
            tapCount++;
            
            if (tapCount === 3) {
                let pass = prompt("Enter Admin Password:");
                if (pass === "Brothers@2026") {
                    window.location.href = "admin.html";
                } else {
                    alert("‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°!");
                }
                tapCount = 0;
            }
            
            // ‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡ß© ‡¶¨‡¶æ‡¶∞ ‡¶®‡¶æ ‡¶ö‡¶æ‡¶™‡¶≤‡ßá ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶π‡¶¨‡ßá
            tapTimer = setTimeout(() => {
                tapCount = 0;
            }, 1000);
        });

        function switchPage(pageId, btn) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            btn.classList.add('active');
        }
        function closeModal() { document.getElementById('orderModal').style.display = 'none'; }
    </script>
</body>
</html>
